{"mappings":"AAEAA,KAAKC,iBAAiB,WAAW,WAC/BD,KAAKE,iBAGPF,KAAKC,iBAAiB,YAAaE,IACjCA,EAAMC,UAAUJ,KAAKK,QAAQC,YAG/BN,KAAKC,iBAAiB,SAAS,SAAUE,GAEb,mBAAxBA,EAAMI,QAAQC,OACS,gBAAvBL,EAAMI,QAAQE,MAKhBN,EAAMO,YACJC,MAAMR,EAAMI,SACTK,MAAK,SAAUC,GACd,MAAMC,EAAa,IAAIC,QAAQF,EAASG,SACxCF,EAAWG,IAAI,+BAAgC,gBAC/CH,EAAWG,IAAI,6BAA8B,eAQ7C,OANuB,IAAIC,SAASL,EAASM,KAAM,CACjDC,OAAQP,EAASO,OACjBC,WAAYR,EAASQ,WACrBL,QAASF,OAKZQ,OAAM,SAAUC,GACfC,QAAQC,MAAMF","sources":["src/sw.js"],"sourcesContent":["// https://dev.to/stefnotch/enabling-coop-coep-without-touching-the-server-2d3n\n\nself.addEventListener(\"install\", function () {\n  self.skipWaiting();\n});\n\nself.addEventListener(\"activate\", (event) => {\n  event.waitUntil(self.clients.claim());\n});\n\nself.addEventListener(\"fetch\", function (event) {\n  if (\n    event.request.cache === \"only-if-cached\" &&\n    event.request.mode !== \"same-origin\"\n  ) {\n    return;\n  }\n\n  event.respondWith(\n    fetch(event.request)\n      .then(function (response) {\n        const newHeaders = new Headers(response.headers);\n        newHeaders.set(\"Cross-Origin-Embedder-Policy\", \"require-corp\");\n        newHeaders.set(\"Cross-Origin-Opener-Policy\", \"same-origin\");\n\n        const moddedResponse = new Response(response.body, {\n          status: response.status,\n          statusText: response.statusText,\n          headers: newHeaders,\n        });\n\n        return moddedResponse;\n      })\n      .catch(function (e) {\n        console.error(e);\n      })\n  );\n});\n"],"names":["self","addEventListener","skipWaiting","event","waitUntil","clients","claim","request","cache","mode","respondWith","fetch","then","response","newHeaders","Headers","headers","set","Response","body","status","statusText","catch","e","console","error"],"version":3,"file":"sw.js.map"}